<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <!-- Pluto-friendly base layout:
       - headers/footers via CSS paged-media (running elements + margin boxes)
       - CSS wrapped in CDATA to avoid XML '&' parsing issues
       - we render the report body once; core templates provide .header/.article/.footer
  -->
  <template id="minimal_layout_pluto" name="Minimal Layout (PlutoPrint)">
    <t t-call="web.html_container">
      <t t-set="title">Odoo Report</t>
      <t t-set="head">
        <style type="text/css"><![CDATA[
          /* Defaults; paperformat-specific @page overrides are injected at runtime */
          @page {
            size: A4;
            margin: 20mm 10mm 20mm 10mm; /* top right bottom left */
            @top-center    { content: element(report_header); }
            @bottom-center { content: "Page " counter(page) " of " counter(pages); }
          }

          /* Map existing header/footer blocks to running elements */
          .header { position: running(report_header); padding-bottom: 5mm; border-bottom: 1px solid #ccc; }
          .footer { border-top: 1px solid #eee; font-size: 10pt; opacity: 0.85; }

          body { font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif; font-size: 11pt; }
        ]]></style>
      </t>

      <!-- Render the full report HTML (header/article/footer come from the report template) -->
      <t t-raw="body"/>
    </t>
  </template>
</odoo>
